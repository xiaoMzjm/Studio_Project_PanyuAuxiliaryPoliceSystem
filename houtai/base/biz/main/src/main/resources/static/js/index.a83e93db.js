(function(e){function t(t){for(var s,i,r=t[0],c=t[1],l=t[2],d=0,p=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],s=!0,r=1;r<a.length;r++){var c=a[r];0!==n[c]&&(s=!1)}s&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var s={},n={index:0},o=[];function i(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=s,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var u=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var s=a("85ec"),n=a.n(s);n.a},"0a2f":function(e,t,a){},"111b":function(e,t,a){},1495:function(e,t,a){e.exports=a.p+"img/house.f3d275ce.png"},"188c":function(e,t,a){},"1c9b":function(e,t,a){"use strict";var s=a("3629"),n=a.n(s);n.a},"2b85":function(e,t,a){},"32f6":function(e,t,a){},3629:function(e,t,a){},"3b76":function(e,t,a){"use strict";var s=a("a027"),n=a.n(s);n.a},"3c43":function(e,t,a){"use strict";var s=a("f9c2"),n=a.n(s);n.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("a026"),n=a("00e7"),o=a.n(n),i=a("5c96"),r=a.n(i),c=(a("0fae"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[e.login?a("div",{attrs:{id:"app-content"}},[a("router-view")],1):a("div",{attrs:{id:"app-content"}},[a("el-container",{attrs:{direction:"vertical"}},[a("Header"),a("el-container",{staticClass:"main-box"},[a("Sidebar",{staticClass:"sidebar"}),a("el-main",{staticClass:"main"},[a("Bread"),a("div",{staticClass:"main-detail"},[a("router-view")],1)],1)],1)],1)],1)])}),l=[],u=(a("caad"),a("2532"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-header",{staticClass:"header"},[s("el-row",[s("el-col",{attrs:{span:12}},[s("div",[s("img",{attrs:{src:a("cf05")}}),s("span",[e._v("广州市公安局番禺区分局辅警管理系统")])])]),s("el-col",{attrs:{span:12}},[s("div",{staticClass:"user"},[s("a",{attrs:{href:e.downloadhelp}},[s("el-button",{staticClass:"sm-menu",attrs:{type:"text"}},[e._v("帮助")])],1),s("el-dropdown",{on:{command:e.logout}},[s("span",{staticClass:"nickname"},[e._v(" "+e._s(e.nickname)),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",[e._v("退出")])],1)],1)],1)])],1)],1)],1)}),d=[],p=a("5530"),m=a("2f62"),h=a("5b12"),f={name:"Header",props:{},data:function(){return{downloadhelp:h.server+"/system/downloadhelp"}},computed:Object(m["d"])({nickname:"nickname"}),methods:Object(p["a"])({},Object(m["c"])(["setNickname"]),{logout:function(){var e=this;this.request.post("/user/logout",{}).then((function(t){console.log(t),200==t.status&t.data.success?(e.$cookie.delete("nickname"),e.$router.push("/login")):e.$message({showClose:!0,message:t.data.message,type:"error"})}))}}),mounted:function(){this.nickname||this.$store.commit("setNickname",this.$cookie.get("nickname"))}},g=f,y=(a("992b"),a("2877")),b=Object(y["a"])(g,u,d,!1,null,"1b9fa9dc",null),v=b.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar"},[a("el-aside",{attrs:{width:e.isCollapse?"auto":"220px"}},[a("el-menu",{staticClass:"el-menu-vertical-demo",style:e.isCollapse?"":"overflow-y: scroll;",attrs:{router:!0,collapse:e.isCollapse,"default-active":e.defaultActive,"collapse-transition":!1,"background-color":"#204169","text-color":"#fff","active-text-color":"#ffd04b"}},[e._l(e.menu,(function(t,s){return[t.children?a("el-submenu",{key:s.toString(),attrs:{index:s.toString()}},[a("template",{slot:"title"},[a("i",{class:t.icon?t.icon:e.defaultIcon}),a("span",[e._v(e._s(t.name))])]),e._l(t.children,(function(t){return a("el-menu-item",{key:t.code,attrs:{index:t.url,route:t.url}},[a("span",[e._v(e._s(t.name))])])}))],2):a("el-menu-item",{key:t.code,attrs:{index:t.url,route:t.url}},[a("i",{class:t.icon?t.icon:e.defaultIcon}),a("span",[e._v(e._s(t.name))])])]}))],2),a("el-row",{staticClass:"flod-menu",style:e.isCollapse?"width: 64px;":"width: 199px"},[a("el-col",{attrs:{span:24}},[a("i",{directives:[{name:"show",rawName:"v-show",value:!e.isCollapse,expression:"!isCollapse"}],staticClass:"el-icon-d-arrow-left",on:{click:function(t){e.isCollapse=!0}}}),a("i",{directives:[{name:"show",rawName:"v-show",value:e.isCollapse,expression:"isCollapse"}],staticClass:"el-icon-d-arrow-right",on:{click:function(t){e.isCollapse=!1}}})])],1)],1)],1)},k=[],w={name:"Sidebar",data:function(){return{isCollapse:!1,defaultActive:"",defaultIcon:"el-icon-goods"}},computed:Object(m["d"])(["menu"]),watch:{$route:function(e){"/UserManager/UserList"===e.path&&(this.isCollapse=!0)}},mounted:function(){"/UserManager/UserList"===this.$route.path&&(this.isCollapse=!0),this.defaultActive=this.$route.path,this.getMenu()},methods:Object(p["a"])({},Object(m["b"])(["getMenu"]))},x=w,$=(a("9560"),Object(y["a"])(x,C,k,!1,null,"d0bc5f82",null)),_=$.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticClass:"bread",attrs:{"separator-class":"el-icon-arrow-right"}},e._l(e.breadList,(function(t,s){return a("el-breadcrumb-item",{key:"bread-"+s},[e._v(e._s(t))])})),1)],1)},D=[],j=(a("4160"),a("b0c0"),a("ac1f"),a("1276"),a("159b"),a("a44f")),O={name:"Bread",data:function(){return{breadList:[]}},watch:{$route:function(){this.changeBread()}},mounted:function(){this.changeBread()},methods:{changeBread:function(){var e=this,t=this.$route.path.split("/");this.breadList=[],j.forEach((function(a){a.code==t[1]&&e.breadList.push(a.name),a.children&&a.children.forEach((function(a){a.code==t[2]&&e.breadList.push(a.name)}))}))}}},U=O,E=Object(y["a"])(U,S,D,!1,null,"26f17194",null),T=E.exports,L={name:"App",components:{Header:v,Sidebar:_,Bread:T},data:function(){return{login:!0}},watch:{$route:function(e){this.changeRoute(e)}},created:function(){},mounted:function(){this.changeRoute(this.$route)},methods:{changeRoute:function(e){e.path.includes("/login")?this.login=!0:this.login=!1}}},P=L,z=(a("034f"),Object(y["a"])(P,c,l,!1,null,null,null)),M=z.exports,A=a("8c4f"),N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),a("div",{staticClass:"login-container"},[a("div",{staticClass:"inner"},[e._m(1),a("div",{staticClass:"login-box"},[a("div",[a("div",{staticClass:"login-box-item"},[a("el-input",{attrs:{"prefix-icon":"el-icon-user-solid",type:"text",placeholder:"请输入用户名",autocomplete:"off"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}},model:{value:e.loginForm.account,callback:function(t){e.$set(e.loginForm,"account",t)},expression:"loginForm.account"}})],1),a("div",{staticClass:"login-box-item"},[a("el-input",{attrs:{"prefix-icon":"el-icon-key",type:"password",placeholder:"请输入密码",autocomplete:"off"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),a("div",{staticClass:"login-box-item"},[a("el-checkbox",{model:{value:e.remenberPass,callback:function(t){e.remenberPass=t},expression:"remenberPass"}},[e._v("记住密码")])],1),a("div",{staticClass:"login-box-item"},[a("el-button",{staticClass:"login-btn",attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")])],1)])])])]),e._m(2),e._m(3)])},W=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header"},[s("div",[s("img",{attrs:{src:a("cf05")}}),s("span",[e._v("广州市公安局番禺区分局辅警管理系统")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-title"},[a("span",[e._v("广州市公安局番禺区分局辅警管理系统")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"footer"},[a("span",[e._v("Copyright © 2006-2018 Guangzhou Municipal Public Security Burea")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bg"},[s("img",{staticClass:"map",attrs:{src:a("8b55")}}),s("img",{staticClass:"people",attrs:{src:a("8b55")}}),s("img",{staticClass:"house",attrs:{src:a("1495")}})])}],q=a("6821"),G=a.n(q),R={name:"Login",components:{},computed:{},data:function(){return{remenberPass:!!this.$cookie.get("remenberpass"),loginForm:{account:"",password:""}}},watch:{remenberPass:function(e){e?this.$cookie.set("remenberpass",1,7):this.$cookie.delete("remenberpass")},"loginForm.account":function(e){this.remenberPass&&e==this.$cookie.get("account")&&(this.loginForm.password=this.$cookie.get("password"))}},methods:Object(p["a"])({},Object(m["c"])(["setNickname"]),{login:function(){var e=this;this.remenberPass?this.savePass():this.delPass(),this.loginForm.account&&this.loginForm.password?(console.log(G()(this.loginForm.password)),this.request.post("/user/login",{account:this.loginForm.account,password:32!=this.loginForm.password.length?G()(this.loginForm.password):this.loginForm.password}).then((function(t){console.log(t),200==t.status&t.data.success?(e.$router.push("/UserManager/UserList"),console.log(t.data.data.name),e.$store.commit("setNickname",t.data.data.name),e.$cookie.set("nickname",t.data.data.name,7)):e.$message({showClose:!0,message:t.data.message,type:"error"})}))):this.$message({showClose:!0,message:"账号或密码不能为空",type:"warning"})},savePass:function(){this.$cookie.set("account",this.loginForm.account,7),this.$cookie.set("password",G()(this.loginForm.password),7),console.log(this.$cookie.get("account")),console.log(this.$cookie.get("password"))},delPass:function(){this.$cookie.delete("account"),this.$cookie.delete("password")}}),mounted:function(){}},B=R,F=(a("3c43"),Object(y["a"])(B,N,W,!1,null,"010e8bea",null)),I=F.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.currUnit="",e.dialogData.show=!0}}},[e._v("添加单位")])],1)],1)],1),a("Tree",{attrs:{data:e.unitList,operate:e.operate,expandAll:!0},on:{operateClick:e.operateClick}}),a("Dialog",{attrs:{data:e.dialogData},on:{success:e.dialogSuccess}})],1)},H=[],Y=(a("a4d3"),a("e01a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-tree",{ref:"tree",staticStyle:{"margin-top":"20px"},attrs:{data:e.data,"show-checkbox":"","node-key":"code","default-expand-all":e.expandAll,"expand-on-click-node":!1,"default-checked-keys":e.checkedList},on:{check:e.check},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var s=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",[e._v(e._s(s.name))]),a("span",e._l(e.operate,(function(t){return a("el-button",{key:t.type,attrs:{type:"text",size:"mini"},on:{click:function(a){return e.$emit("operateClick",{data:s,type:t.type})}}},[e._v(" "+e._s(t.title)+" ")])})),1)])}}])})],1)}),Z=[],K={name:"Tree",props:{data:{type:Array,default:function(){return[]}},operate:{type:Array},selectAll:{type:Boolean,default:!1},expandAll:{type:Boolean,default:!1}},watch:{data:function(e){e.length&&this.setSelectAll()}},data:function(){return{checkedList:[]}},methods:{check:function(){var e=[],t=this.$refs.tree.getCheckedNodes();t.forEach((function(t){e.push(t.code)})),this.$emit("check",e)},setSelectAll:function(){var e=this;this.selectAll&&(this.data.forEach((function(t){e.checkedList.push(t.code)})),console.log(this.data,this.data.length,this.checkedList))}}},Q=K,V=(a("d8ea"),Object(y["a"])(Q,Y,Z,!1,null,"45f56bb4",null)),X=V.exports,ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:e.data.title,visible:e.data.show},on:{"update:visible":function(t){return e.$set(e.data,"show",t)}}},[a("el-form",{attrs:{"label-width":"70px",labelPosition:"left"}},e._l(e.data.form,(function(t,s){return a("el-form-item",{key:"dialog-"+s,attrs:{label:t.label}},["textarea"==t.type?a("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},placeholder:t.placeholder,autocomplete:"off"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):"span"==t.type?a("span",{staticClass:"span-40"},[e._v(e._s(t.value))]):"date"==t.type?a("el-date-picker",{attrs:{format:"yyyy/MM/dd","value-format":"yyyy/MM/dd",type:"date",placeholder:"选择日期"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):"enum"==t.type?a("el-select",{attrs:{placeholder:"请选择",filterable:""},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}},e._l(e.enums[t.key],(function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})})),1):"enums"===t.type?a("el-cascader",{attrs:{"change-on-select":"",options:e.enums["unit"],props:{label:"name",value:"code",checkStrictly:!0},clearable:""},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):a("el-input",{attrs:{placeholder:t.placeholder,autocomplete:"off"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}})],1)})),1),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.data.hideOperate,expression:"!data.hideOperate"}],staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.data.show=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.success}},[e._v("确 定")])],1)],1)],1)},te=[],ae={name:"Dialog",props:{data:{type:Object}},computed:{enums:function(){var e=[];return this.$store.state.unit.forEach((function(t,a){e.push({code:t.code,name:t.name,children:[]}),t.children.forEach((function(t){e[a].children.push({code:t.code,name:t.name})}))})),{nation:this.$store.state.nation,politicalLandscape:this.$store.state.politicalLandscape,quasiDrivingType:this.$store.state.quasiDrivingType,exserviceman:this.$store.state.exserviceman,sex:this.$store.state.sex,education:this.$store.state.education,personnelType:this.$store.state.personnelType,placeOfWork:this.$store.state.placeOfWork,authorizedStrengthType:this.$store.state.authorizedStrengthType,jobGrade:this.$store.state.jobGrade,treatmentGrade:this.$store.state.treatmentGrade,enrollWay:this.$store.state.enrollWay,dimissionType:this.$store.state.dimissionType,jobCategory:this.$store.state.jobCategory,maritalStatus:this.$store.state.maritalStatus,unit:e}}},methods:{success:function(){this.data.show=!1,this.$emit("success")}}},se=ae,ne=(a("8f0a"),Object(y["a"])(se,ee,te,!1,null,"65ad3152",null)),oe=ne.exports,ie={name:"Unit",components:{Tree:X,Dialog:oe},computed:Object(p["a"])({},Object(m["d"])({unitList:"unit"})),data:function(){return{dialogData:{title:"添加单位",show:!1,form:[{label:"名称",value:"",placeholder:"请输入单位名称"},{label:"描述",value:"",type:"textarea"}]},operate:[{title:"查看详情",type:"detail"},{title:"添加子单位",type:"add"},{title:"删除单位",type:"del"}],currUnit:{}}},methods:Object(p["a"])({},Object(m["b"])(["unit"]),{dialogSuccess:function(){console.log("dialogSuccess",this.dialogData.form),this.addUnit()},operateClick:function(e){var t=this;switch(console.log(e),this.currUnit=e.data||{},e.type){case"detail":this.dialogData={title:"查看详情",show:!0,hideOperate:!0,form:[{label:"名称",value:e.data.name,placeholder:"请输入单位名称"},{label:"描述",value:e.data.description,type:"textarea"}]};break;case"add":console.log("addd"),this.dialogData={title:"添加子单位",show:!0,form:[{label:"名称",value:"",placeholder:"请输入单位名称"},{label:"描述",value:"",type:"textarea"},{label:"所属单位",value:this.currUnit.name,type:"span"}]};break;case"del":this.$confirm("确认删除 "+this.currUnit.name+" ?").then((function(e){"confirm"==e&&t.delUnit()})).catch((function(e){console.log(e)}));break}},addUnit:function(){var e=this;this.request.post("/company/add",{name:this.dialogData.form[0].value,desc:this.dialogData.form[1].value,fatherCode:this.currUnit.code}).then((function(t){200==t.status&t.data.success?(e.$message({showClose:!0,message:"添加单位成功",type:"success"}),e.unit()):e.$message({showClose:!0,message:t.data.message,type:"error"})}))},delUnit:function(){var e=this;this.request.post("/company/delete",{code:this.currUnit.code}).then((function(t){200==t.status&t.data.success?(e.$message({showClose:!0,message:"删除单位成功",type:"success"}),e.unit()):e.$message({showClose:!0,message:t.data.message,type:"error"})}))}}),mounted:function(){this.unit()}},re=ie,ce=Object(y["a"])(re,J,H,!1,null,"1cf5e5b1",null),le=ce.exports,ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"h100"},[a("el-row",{staticClass:"h100",attrs:{gutter:20}},[a("el-col",{staticClass:"h100",attrs:{span:6}},[a("div",{staticClass:"tree"},[a("h3",{staticClass:"unit-title"},[e._v("单位列表")]),a("div",{staticClass:"user-unit"},[a("Tree",{attrs:{data:e.unitList,selectAll:!1},on:{check:e.checkUnit}})],1)]),a("div",{staticClass:"user-table"},[a("Table",{attrs:{header:e.headerData,data:e.userList,showPage:!1,size:"mini"},on:{check:e.checkUser}})],1),a("div",{staticClass:"operate"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{size:"mini",placeholder:"请输入姓名"},on:{input:e.changeName},model:{value:e.serachData.name,callback:function(t){e.$set(e.serachData,"name",t)},expression:"serachData.name"}})],1),a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogData.show=!0}}},[e._v("高级查询")])],1),a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.noUser=!1,e.addUser()}}},[e._v("添加人员")])],1),a("el-col",{attrs:{span:12}},[a("a",{attrs:{href:e.downloadimportdemo,target:"_blank"}},[a("el-button",{attrs:{size:"mini"}},[e._v("下载导入模板")])],1)]),a("el-col",{attrs:{span:12}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.importuser,"with-credentials":!0,"show-file-list":!1,"on-progress":e.uploadProgress,"on-success":e.uploadCb}},[a("el-button",{attrs:{size:"mini"}},[e._v("导入")])],1)],1),a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.importImageData.show=!0}}},[e._v("导入相片")])],1),a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{size:"mini"},on:{click:e.downloadUser}},[e._v("导出所选人员")])],1)],1)],1)]),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"h100",attrs:{span:18}},[a("div",{staticClass:"user-detail"},[e.noUser?a("div",{staticClass:"no-user"},[e._v("暂无选择人员")]):a("User",{attrs:{data:e.userData}})],1),a("div",{staticClass:"user-operate"},[e.userData.identityCard?[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.delUser}},[e._v("删除")]),a("a",{staticClass:"button-a",attrs:{href:e.exportuser+e.userData.code,target:"_blank"}},[a("el-button",{attrs:{size:"mini"}},[e._v("导出个人信息")])],1),a("a",{staticClass:"button-a",attrs:{href:e.exportincomecertificate+e.userData.code,target:"_blank"}},[a("el-button",{attrs:{size:"mini"}},[e._v("导出收入证明")])],1),a("a",{staticClass:"button-a",attrs:{href:e.exportonthejobcertificate+e.userData.code,target:"_blank"}},[a("el-button",{attrs:{size:"mini"}},[e._v("导出在职证明")])],1)]:e._e(),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.saveUser}},[e._v("保存")])],2)])],1),a("SuperSearch",{attrs:{data:e.dialogData},on:{success:e.superPagelist}}),a("ImportImage",{attrs:{data:e.importImageData},on:{success:function(t){return e.getUserData(e.currCode)}}})],1)},de=[],pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"h100"},[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"","highlight-current-row":"",height:"100%",data:e.data,size:e.size},on:{"row-click":function(t,a,s){return e.$emit("check",{row:t,column:a,event:s})}}},[e._l(e.header,(function(t,s){return a("el-table-column",{key:"table-"+e.tkey+"-"+s,attrs:{prop:t.key,label:t.label,width:t.width},scopedSlots:e._u([{key:"default",fn:function(s){return["enum"==t.type?a("span",e._l(e.enums[s.column.property],(function(t,n){return a("span",{key:"enum"+s.column.property+n},[t.code==s.row[s.column.property]?a("span",[e._v(" "+e._s(t.name)+" ")]):e._e()])})),0):"link"==t.type?a("span",[s.row[s.column.property].message?a("span",[e._v(e._s(s.row[s.column.property].message))]):a("el-link",{attrs:{type:"primary",href:s.row[s.column.property].url,target:"_blank"}},[e._v(e._s(s.row[s.column.property].name))])],1):a("span",[e._v(" "+e._s(s.row[s.column.property]||"-")+" ")])]}}],null,!0)})})),e.operation.length?a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.operation,(function(s){return a("el-button",{key:"table-"+e.tkey+"-"+s.title,attrs:{type:"text",size:"small"},on:{click:function(a){return e.$emit("operateClick",{tkey:e.tkey,index:t.$index,type:s.type})}}},[e._v(e._s(s.title))])}))}}],null,!1,3498276819)}):e._e()],2),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.showPage,expression:"showPage"}],attrs:{"current-page":e.innerPage.currentPage,"page-sizes":e.innerPage.pageSizes,"page-size":e.innerPage.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.data.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},me=[],he={name:"Table",props:{tkey:{type:String,default:function(){return""}},header:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},operation:{type:Array,default:function(){return[]}},showPage:{type:Boolean,default:function(){return!0}},page:{type:Object,default:function(){return{currentPage:1,pageSize:10}}},size:{type:String,default:"medium"}},data:function(){return{}},computed:{innerPage:function(){var e=[],t=Math.ceil(this.data.length/10);t=t<=10?t:10;for(var a=1;a<=t;a++)e.push(10*a);return{currentPage:this.page.currentPage,pageSize:this.page.pageSize,pageSizes:e}},enums:function(){var e=[];return this.$store.state.unit.forEach((function(t,a){e.push({code:t.code,name:t.name,children:[]}),t.children.forEach((function(t){e[a].children.push({code:t.code,name:t.name})}))})),{nation:this.$store.state.nation,politicalLandscape:this.$store.state.politicalLandscape,quasiDrivingType:this.$store.state.quasiDrivingType,exserviceman:this.$store.state.exserviceman,sex:this.$store.state.sex,education:this.$store.state.education,personnelType:this.$store.state.personnelType,placeOfWork:this.$store.state.placeOfWork,authorizedStrengthType:this.$store.state.authorizedStrengthType,jobGrade:this.$store.state.jobGrade,treatmentGrade:this.$store.state.treatmentGrade,enrollWay:this.$store.state.enrollWay,dimissionType:this.$store.state.dimissionType,jobCategory:this.$store.state.jobCategory,maritalStatus:this.$store.state.maritalStatus,specialPeople:this.$store.state.specialPeople,unit:e}}},methods:{handleCurrentChange:function(){},handleSizeChange:function(){}}},fe=he,ge=(a("ec00"),Object(y["a"])(fe,pe,me,!1,null,null,null)),ye=ge.exports,be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"h100"},[a("el-form",{staticClass:"h100",attrs:{"label-width":"140px","label-position":"left"}},[a("el-tabs",{staticClass:"h100",model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"个人信息",name:"index"}},[a("el-row",[a("el-col",{attrs:{span:e.superSearch?24:20}},[a("el-row",e._l(e.data,(function(t,s){return a("el-col",{key:"user-"+s,attrs:{span:12}},[e.userConfig[s]&&"table"!=e.userConfig[s].type&&"pic"!=e.userConfig[s].type?a("el-form-item",{attrs:{label:e.userConfig[s].name}},[e.superSearch?["date"===e.userConfig[s].type?a("el-date-picker",{attrs:{format:"yyyy/MM/dd","value-format":"yyyy/MM/dd",type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.data[s],callback:function(t){e.$set(e.data,s,t)},expression:"data[index]"}}):"multiple"===e.userConfig[s].type||"enum"===e.userConfig[s].type?a("el-select",{attrs:{placeholder:"请选择",filterable:"",multiple:""},model:{value:e.data[s],callback:function(t){e.$set(e.data,s,t)},expression:"data[index]"}},e._l(e.enums[s],(function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})})),1):"enums"===e.userConfig[s].type?a("el-cascader",{attrs:{"change-on-select":"",options:e.enums["unit"],props:{label:"name",value:"code",checkStrictly:!0},clearable:""},model:{value:e.data[s],callback:function(t){e.$set(e.data,s,t)},expression:"data[index]"}}):"range"===e.userConfig[s].type?[a("el-input",{staticStyle:{width:"40%"},model:{value:e.data[s][0],callback:function(t){e.$set(e.data[s],0,t)},expression:"data[index][0]"}}),e._v(" - "),a("el-input",{staticStyle:{width:"40%"},model:{value:e.data[s][1],callback:function(t){e.$set(e.data[s],1,t)},expression:"data[index][1]"}})]:a("el-input",{model:{value:e.data[s],callback:function(t){e.$set(e.data,s,t)},expression:"data[index]"}})]:["date"===e.userConfig[s].type?a("el-date-picker",{attrs:{format:"yyyy/MM/dd","value-format":"yyyy/MM/dd",type:"date",placeholder:"选择日期"},model:{value:e.data[s],callback:function(t){e.$set(e.data,s,t)},expression:"data[index]"}}):"enum"===e.userConfig[s].type?a("el-select",{attrs:{placeholder:"请选择",filterable:""},model:{value:e.data[s],callback:function(t){e.$set(e.data,s,t)},expression:"data[index]"}},e._l(e.enums[s],(function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})})),1):"multiple"===e.userConfig[s].type?a("el-select",{attrs:{placeholder:"请选择",filterable:"",multiple:""},model:{value:e.data[s],callback:function(t){e.$set(e.data,s,t)},expression:"data[index]"}},e._l(e.enums[s],(function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})})),1):"enums"===e.userConfig[s].type?a("el-cascader",{attrs:{"change-on-select":"",options:e.enums["unit"],props:{label:"name",value:"code",checkStrictly:!0},clearable:""},model:{value:e.data[s],callback:function(t){e.$set(e.data,s,t)},expression:"data[index]"}}):a("el-input",{attrs:{disabled:e.userConfig[s].disabled||!1},model:{value:e.data[s],callback:function(t){e.$set(e.data,s,t)},expression:"data[index]"}})]],2):e._e()],1)})),1)],1),e.superSearch?e._e():a("el-col",{attrs:{span:4}},[e.data.headPicCode?a("img",{staticClass:"avatar",attrs:{src:e.data.headPicUrl}}):a("div",{staticClass:"headimg"},[a("i",{staticClass:"el-icon-user-solid avatar-uploader-icon"})]),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.Config.server+e.Config.uploadServer,"with-credentials":!0,"show-file-list":!1,"on-success":e.uploadCb}},[[a("el-button",{staticClass:"upload-btn",attrs:{size:"mini",type:"primary"}},[e._v("上传")])]],2)],1)],1)],1),e.superSearch?e._e():e._l(e.headerData,(function(t,s){return a("el-tab-pane",{key:s,staticClass:"h100",attrs:{name:s,label:e.userConfig[s].name}},[a("div",{staticClass:"table-title"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.showDialog(s)}}},[e._v("新增")])],1),a("div",{staticStyle:{height:"calc(100% - 70px)"}},[a("Table",{attrs:{tkey:s,header:t,data:e.data[s],operation:e.operation,showPage:!1},on:{operateClick:e.operateClick}})],1)])}))],2)],1),a("Dialog",{attrs:{data:e.dialogData},on:{success:e.dialogSuccess}})],1)},ve=[],Ce=(a("a434"),a("5cf3")),ke={name:"User",props:{data:{type:Object,default:function(){return{}}},operate:{type:Array},superSearch:{type:Boolean,default:!1}},components:{Table:ye,Dialog:oe},data:function(){return{userConfig:Ce,Config:h,value:"",imageUrl:"",operation:[{title:"编辑",type:"edit"},{title:"删除",type:"del"}],headerData:{personalExperience:[{key:"timeStart",label:"起始日期",type:"date"},{key:"timeEnd",label:"结束日期",type:"date"},{key:"unit",label:"单位或组织名称"},{key:"department",label:"部门"},{key:"duty",label:"所属职务"}],familyMember:[{key:"name",label:"姓名"},{key:"relation",label:"关系"},{key:"company",label:"单位"},{key:"duty",label:"职务"},{key:"identityCard",label:"身份证"},{key:"phone",label:"电话"},{key:"politicalLandscape",label:"政治面貌",type:"enum"}],award:[{key:"name",label:"奖惩名称"},{key:"time",label:"奖惩时间",type:"date"},{key:"reason",label:"奖惩原因"},{key:"company",label:"批准单位"}],assessment:[{key:"time",label:"发生时间",type:"date"},{key:"grade",label:"等级"},{key:"remark",label:"备注"}]},dialogData:{title:"",show:!1,form:[]},activeTab:"index"}},computed:{enums:function(){var e=[];return this.$store.state.unit.forEach((function(t,a){e.push({code:t.code,name:t.name,children:[]}),t.children.forEach((function(t){e[a].children.push({code:t.code,name:t.name})}))})),{nation:this.$store.state.nation,politicalLandscape:this.$store.state.politicalLandscape,quasiDrivingTypeList:this.$store.state.quasiDrivingType,exserviceman:this.$store.state.exserviceman,sex:this.$store.state.sex,education:this.$store.state.education,personnelType:this.$store.state.personnelType,placeOfWork:this.$store.state.placeOfWork,authorizedStrengthType:this.$store.state.authorizedStrengthType,jobGrade:this.$store.state.jobGrade,treatmentGrade:this.$store.state.treatmentGrade,enrollWay:this.$store.state.enrollWay,dimissionTypeList:this.$store.state.dimissionType,jobCategory:this.$store.state.jobCategory,maritalStatus:this.$store.state.maritalStatus,specialPeopleList:this.$store.state.specialPeople,dueContract:this.$store.state.dueContract,unit:e}}},mounted:function(){},methods:{uploadCb:function(e){this.data.headPicUrl=h.server+e.data.url,this.data.headPicCode=e.data.code},showDialog:function(e,t){var a=void 0;isNaN(t)||(a=this.data[e][t]);var s=[];this.headerData[e].forEach((function(e){s.push({label:e.label,key:e.key,type:e.type,value:a?a[e.key]:"enums"==e.type?[]:""})})),console.log(s),this.dialogData={title:this.userConfig[e].name,type:e,index:t,show:!0,form:s}},dialogSuccess:function(){var e={};for(var t in this.dialogData.form)e[this.dialogData.form[t].key]=this.dialogData.form[t].value;isNaN(this.dialogData.index)?this.data[this.dialogData.type]?this.data[this.dialogData.type].push(e):this.data[this.dialogData.type]=[e]:this.data[this.dialogData.type].splice(this.dialogData.index,1,e)},operateClick:function(e){switch(console.log(e),this.currUnit=e.data||{},e.type){case"edit":this.showDialog(e.tkey,e.index);break;case"del":this.data[e.tkey].splice(e.index,1);break}}}},we=ke,xe=(a("919f"),a("8061"),Object(y["a"])(we,be,ve,!1,null,"2e2ecb46",null)),$e=xe.exports,_e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{width:"80%",title:e.data.title,visible:e.data.show},on:{"update:visible":function(t){return e.$set(e.data,"show",t)}}},[a("User",{staticStyle:{height:"500px"},attrs:{data:e.userData,superSearch:!0}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.data.hideOperate,expression:"!data.hideOperate"}],staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.data.show=!1}}},[e._v("取 消")]),a("el-button",{on:{click:e.reset}},[e._v("重 置")]),a("el-button",{attrs:{type:"primary"},on:{click:e.success}},[e._v("确 定")])],1)],1)],1)},Se=[],De={name:"SuperSearch",components:{User:$e},props:{data:{type:Object}},data:function(){return{userData:{}}},computed:{},methods:{success:function(){this.data.show=!1,this.$emit("success",this.userData)},addUser:function(){var e={};for(var t in Ce)"enums"==Ce[t].type||"table"==Ce[t].type||"range"==Ce[t].type||"multiple"==Ce[t].type?e[t]=[]:e[t]="";this.userData=e},reset:function(){this.addUser()}},mounted:function(){this.addUser()}},je=De,Oe=(a("e8b7"),Object(y["a"])(je,_e,Se,!1,null,"4750131a",null)),Ue=Oe.exports,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"导入相片",visible:e.data.show},on:{"update:visible":function(t){return e.$set(e.data,"show",t)}}},[a("div",[a("span",[e._v(" 请将警员的图片放到一个文件夹中，图片名称为对应警员的身份证，然后将该文件夹压缩成.zip压缩包，点击“上传”按钮即可。 ")])]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.importimage,"with-credentials":!0,"show-file-list":!1,"on-progress":e.uploadProgress,"on-success":e.uploadCb}},[a("el-button",{attrs:{type:"primary"}},[e._v("导入相片")])],1)],1)])],1)},Te=[],Le={name:"ImportImage",components:{},props:{data:{type:Object}},data:function(){return{importimage:h.server+"/user/importimage"}},computed:{},methods:{uploadProgress:function(e){console.log(e),this.$message({showClose:!0,message:"上传中……",type:"warning",duration:0})},uploadCb:function(e){this.$message.closeAll(),console.log(e),e.success?(this.$message({showClose:!0,message:"导入成功",type:"success"}),this.data.show=!1,this.$emit("success")):this.$message({showClose:!0,message:e.message,type:"error"})}},mounted:function(){}},Pe=Le,ze=Object(y["a"])(Pe,Ee,Te,!1,null,"dc30424a",null),Me=ze.exports,Ae={name:"Unit",components:{Tree:X,Table:ye,User:$e,SuperSearch:Ue,ImportImage:Me},computed:Object(p["a"])({},Object(m["d"])({unitList:"unit"})),data:function(){return{loading:!1,headerData:[{key:"name",label:"姓名",width:70},{key:"companyName",label:"工作单位"}],serachData:{name:"",companyCodeList:[]},noUser:!0,userList:[],userData:{},downloadimportdemo:h.server+"/user/downloadimportdemo",exportuser:h.server+"/user/exportuser?userCode=",exportincomecertificate:h.server+"/user/exportincomecertificate?userCode=",exportonthejobcertificate:h.server+"/user/exportonthejobcertificate?userCode=",importuser:h.server+"/user/importuser",importimage:h.server+"/user/importimage",dialogData:{title:"高级查询",show:!1},importImageData:{show:!1},currCode:null}},methods:Object(p["a"])({},Object(m["b"])(["unit","nation","getAll"]),{checkUnit:function(e){this.serachData.companyCodeList=e,this.getUserList()},changeName:function(){this.getUserList()},getUserList:function(){var e=this;this.request.post("/user/pagelist",this.serachData).then((function(t){console.log("/user/pagelist",t),200==t.status&t.data.success?e.userList=t.data.data:e.$message({showClose:!0,message:t.data.message,type:"error"})}))},checkUser:function(e){this.noUser=!1,this.currCode=e.row.code,this.getUserData(e.row.code)},unit2Array:function(e){var t=[];return this.unitList.forEach((function(a){a.code==e?t.push(e):a.children.forEach((function(s){s.code==e&&(t.push(a.code),t.push(s.code))}))})),t},getUnitChildren:function(e){var t=[];return this.unitList.forEach((function(a){a.code==e?(t.push(e),a.children.forEach((function(e){t.push(e.code)}))):a.children.forEach((function(a){a.code==e&&t.push(e)}))})),t},getUserData:function(e){var t=this;this.loading=!0,this.request.post("/user/detail",{code:e}).then((function(e){if(t.loading=!1,200==e.status&e.data.success){for(var a in t.userData)Ce[a]&&"enums"==Ce[a].type?(t.userData[a]=t.unit2Array(e.data.data[a]),console.log(e.data.data[a],t.userData[a])):t.userData[a]=e.data.data[a];t.userData.code=e.data.data.code,t.userData.headPicUrl=h.server+e.data.data.headPicUrl}else t.$message({showClose:!0,message:e.data.message,type:"error"})}))},addUser:function(){var e={};for(var t in Ce)"enums"==Ce[t].type||"table"==Ce[t].type?e[t]=[]:e[t]="";this.userData=e},saveUser:function(){var e=this,t=JSON.parse(JSON.stringify(this.userData)),a=t.code?"/user/update":"/user/add";t.workUnit=t.workUnit[t.workUnit.length-1],t.organizationUnit=t.organizationUnit[t.organizationUnit.length-1],this.request.post(a,t).then((function(a){200==a.status&a.data.success?(e.$message({showClose:!0,message:t.code?"更新人员成功":"添加人员成功",type:"success"}),e.getUserList()):e.$message({showClose:!0,message:a.data.message,type:"error"})}))},uploadProgress:function(e){console.log(e),this.$message({showClose:!0,message:"上传中……",type:"warning",duration:0})},uploadCb:function(e){this.$message.closeAll(),console.log(e),e.success?(this.$message({showClose:!0,message:"导入成功",type:"success"}),this.getUserList()):this.$message({showClose:!0,message:e.message,type:"error"})},superPagelist:function(e){var t=this,a=JSON.parse(JSON.stringify(e));for(var s in this.userData)Ce[s]&&("date"==Ce[s].type||"range"==Ce[s].type?(a[s+"Begin"]=a[s]?a[s][0]:"",a[s+"End"]=a[s]?a[s][1]:"",delete a[s]):"enum"==Ce[s].type?(a[s+"List"]=a[s]||[],delete a[s]):"enums"==Ce[s].type&&(a[s+"List"]=this.getUnitChildren(a[s][a[s].length-1])||[],delete a[s]));console.log(a),this.request.post("/user/superpagelist",a).then((function(e){200==e.status&e.data.success?(t.$message({showClose:!0,message:"查询人员成功",type:"success"}),t.userList=e.data.data||[]):t.$message({showClose:!0,message:e.data.message,type:"error"})}))},delUser:function(){var e=this;this.$confirm("确认删除 "+this.userData.name+" ?").then((function(t){"confirm"==t&&e.request.post("/user/delete",{userCode:e.userData.code}).then((function(t){200==t.status&t.data.success?(e.$message({showClose:!0,message:"删除人员成功",type:"success"}),e.getUserList(),e.noUser=!0):e.$message({showClose:!0,message:t.data.message,type:"error"})}))})).catch((function(e){console.log(123,e)}))},downloadUser:function(){var e=this;if(this.userList.length){var t={userCodes:[]};this.userList.forEach((function(e){t.userCodes.push(e.code)})),this.$message({showClose:!0,message:"导出中……",type:"warning",duration:0}),this.download.post("/user/exportselectuser",t).then((function(t){e.$message.closeAll(),200==t.status?e.$message({showClose:!0,message:"导出所选人员成功",type:"success"}):e.$message({showClose:!0,message:t.data.message,type:"error"})}))}else this.$message({showClose:!0,message:"所选成员为空",type:"error"})}}),mounted:function(){this.unit(),this.getAll(),this.getUserList(),this.addUser()}},Ne=Ae,We=(a("a49b"),Object(y["a"])(Ne,ue,de,!1,null,"0764230b",null)),qe=We.exports,Ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"h100"},[a("div",[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-date-picker",{attrs:{size:"mini",format:"yyyy","value-format":"yyyy",type:"year",placeholder:"选择年份"},model:{value:e.year,callback:function(t){e.year=t},expression:"year"}}),a("el-button",{staticClass:"ml10",attrs:{type:"primary",size:"mini"},on:{click:e.search}},[e._v("查询")])],1)],1)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"detail h100"},[a("Table",{staticStyle:{height:"calc(100% - 50px)"},attrs:{header:e.headerData,data:e.data,size:"mini",operation:e.operation,showPage:!1},on:{operateClick:e.operateClick}})],1)])},Re=[],Be=(a("d3b7"),a("25f0"),a("841c"),{name:"Employeecard",components:{Table:ye},computed:Object(p["a"])({},Object(m["d"])({unitList:"unit"})),data:function(){return{loading:!1,year:(new Date).getFullYear().toString(),headerData:[{key:"month",label:"月份"},{key:"file",label:"文件",type:"link"}],data:[],operation:[{title:"生成",type:"create"}],downloademployeecard:h.server+"/expire/downloadexpire?code=",type:"",url:{ExpireEmployeeCard:{search:"/expire/listemployeecard",create:"/expire/createemployeecard"},ExpireContract:{search:"/expire/listcontract",create:"/expire/createcontract"},ExpireRetire:{search:"/expire/listretire",create:"/expire/createretire"}}}},methods:Object(p["a"])({},Object(m["b"])(["unit"]),{operateClick:function(e){switch(console.log(e),this.currUnit=e.data||{},e.type){case"create":console.log(e),this.createemployeecard(e.index);break}},search:function(){var e=this;this.year?(this.loading=!0,this.request.post(this.url[this.type].search,{year:+this.year}).then((function(t){e.loading=!1,200==t.status&t.data.success?(e.data=t.data.data||[],e.data.forEach((function(t,a){t.month=a+1+" 月",t.file={name:t.name,url:e.downloademployeecard+t.code,message:t.message}}))):e.$message({showClose:!0,message:t.data.message,type:"error"})}))):this.$message({showClose:!0,message:"请选择要查询的年份",type:"error"})},createemployeecard:function(e){var t=this;this.request.post(this.url[this.type].create,{year:+this.year,month:e+1}).then((function(e){200==e.status&e.data.success?e.data.data?t.$message({showClose:!0,message:e.data.data,type:"warn"}):(t.$message({showClose:!0,message:"操作成功",type:"success"}),t.search()):t.$message({showClose:!0,message:e.data.message,type:"error"})}))},init:function(){"/ExpireManager/ExpireEmployeeCard"==this.$route.path?this.type="ExpireEmployeeCard":"/ExpireManager/ExpireContract"==this.$route.path?this.type="ExpireContract":"/ExpireManager/ExpireRetire"==this.$route.path&&(this.type="ExpireRetire"),this.search()}}),watch:{$route:function(e){e&&this.init()}},mounted:function(){this.init()}}),Fe=Be,Ie=(a("3b76"),Object(y["a"])(Fe,Ge,Re,!1,null,"5884b178",null)),Je=Ie.exports,He=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Ye=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("img",{staticClass:"bigmap",attrs:{src:a("cad5")}})])}],Ze={name:"ChartList",components:{},computed:Object(p["a"])({},Object(m["d"])({unitList:"unit"})),data:function(){return{}},methods:Object(p["a"])({},Object(m["b"])(["unit"])),mounted:function(){}},Ke=Ze,Qe=(a("1c9b"),Object(y["a"])(Ke,He,Ye,!1,null,"b7db6ddc",null)),Ve=Qe.exports;s["a"].use(A["a"]);var Xe=[{path:"/",redirect:"/UserManager/UserList"},{path:"/login",component:I},{path:"/CompanyManager/CompanyList",component:le},{path:"/UserManager/UserList",component:qe},{path:"/ExpireManager/ExpireEmployeeCard",component:Je},{path:"/ExpireManager/ExpireContract",component:Je},{path:"/ExpireManager/ExpireRetire",component:Je},{path:"/ChartManger/ChartList",component:Ve}],et=new A["a"]({mode:"history",routes:Xe}),tt=et,at={setNickname:function(e,t){console.log(123,t),e.nickname=t},menu:function(e,t){t.forEach((function(e){j.forEach((function(t){t.code==e.code&&(e.url="/"+e.code,e.icon=t.icon,e.children&&e.children.forEach((function(a){t.children&&t.children.forEach((function(t){t.code==a.code&&(a.url="/"+e.code+"/"+a.code,a.icon=t.icon)}))})))}))})),e.menu=t},unit:function(e,t){e.unit=t},nation:function(e,t){e.nation=t},politicalLandscape:function(e,t){e.politicalLandscape=t},quasiDrivingType:function(e,t){e.quasiDrivingType=t},exserviceman:function(e,t){e.exserviceman=t},sex:function(e,t){e.sex=t},education:function(e,t){e.education=t},personnelType:function(e,t){e.personnelType=t},authorizedStrengthType:function(e,t){e.authorizedStrengthType=t},placeOfWork:function(e,t){e.placeOfWork=t},jobGrade:function(e,t){e.jobGrade=t},treatmentGrade:function(e,t){e.treatmentGrade=t},enrollWay:function(e,t){e.enrollWay=t},dimissionType:function(e,t){e.dimissionType=t},jobCategory:function(e,t){e.jobCategory=t},maritalStatus:function(e,t){e.maritalStatus=t},specialPeople:function(e,t){e.specialPeople=t},dueContract:function(e,t){e.dueContract=t}},st=at,nt=a("bc3a"),ot=a.n(nt),it=ot.a.create({baseURL:h.server,timeout:2e3,headers:{"Content-Type":"application/json"},withCredentials:!0,transformResponse:[function(e){try{e=JSON.parse(e)}catch(a){console.log(a)}if(!e||e.status){var t=e?e.status:"return undefined";e={success:!1,message:"系统错误 ["+t+"]"}}else!e.success&&e.errorCode&&e.errorCode.includes("TOKEN_")&&(window.location.href="/login");return e}]});it.interceptors.request.use((function(e){return e}),(function(e){console.log(222,e)}));var rt=it,ct={getMenu:function(e){rt.post("/user/getauthority",{}).then((function(t){e.commit("menu",t.data.data)}))},unit:function(e){rt.post("/company/listall",{}).then((function(t){e.commit("unit",t.data.data)}))},getAll:function(e){rt.post("/user/enum/all",{}).then((function(t){var a=t.data.data;e.commit("nation",a.nation),e.commit("politicalLandscape",a.politicallandscape),e.commit("quasiDrivingType",a.drivingtype),e.commit("exserviceman",a.exserviceman),e.commit("sex",a.sex),e.commit("education",a.education),e.commit("personnelType",a.personneltype),e.commit("authorizedStrengthType",a.authorizedstrengthype),e.commit("placeOfWork",a.placeofwork),e.commit("jobGrade",a.jobgrade),e.commit("treatmentGrade",a.treatmentgrade),e.commit("enrollWay",a.enrollway),e.commit("dimissionType",a.dimissiontype),e.commit("jobCategory",a.jobcategory),e.commit("maritalStatus",a.maritalstatus),e.commit("specialPeople",a.specialpeople),e.commit("nation",a.nation),e.commit("dueContract",a.duecontract)}))}},lt=ct;s["a"].use(m["a"]);var ut=new m["a"].Store({state:{nickname:"",menu:[],unit:[],nation:[],politicalLandscape:[],quasiDrivingType:[],exserviceman:[],sex:[],education:[],personnelType:[],authorizedStrengthType:[],placeOfWork:[],jobGrade:[],treatmentGrade:[],enrollWay:[],dimissionType:[],jobCategory:[],maritalStatus:[],specialPeople:[],dueContract:[]},mutations:st,actions:lt}),dt=ut,pt=(a("3ca3"),a("ddb0"),a("2b3d"),ot.a.create({baseURL:h.server,timeout:2e4,headers:{"Content-Type":"application/json"},withCredentials:!0,responseType:"blob",transformResponse:[function(e){if(e){var t=window.URL.createObjectURL(new Blob([e])),a=document.createElement("a");a.style.display="none",a.href=t,a.setAttribute("download","人员导出.xlsx"),document.body.appendChild(a),a.click()}}]}));pt.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)}));var mt=pt;s["a"].use(r.a),s["a"].use(o.a),s["a"].prototype.request=rt,s["a"].prototype.download=mt,s["a"].config.productionTip=!1,new s["a"]({store:dt,router:tt,render:function(e){return e(M)}}).$mount("#app")},"5b12":function(e){e.exports=JSON.parse('{"title":"广州市公安局番禺区分局辅警管理系统","server":"","uploadServer":"/resource/uploadpic"}')},"5cf3":function(e){e.exports=JSON.parse('{"name":{"name":"姓名","type":""},"birthdate":{"name":"出生日期","type":"date"},"nation":{"name":"民族","type":"enum"},"politicalLandscape":{"name":"政治面貌","type":"enum"},"headPicCode":{"name":"头像","type":"pic"},"graduateInstitutions":{"name":"毕业院校","type":""},"policeCode":{"name":"警号","type":""},"quasiDrivingTypeList":{"name":"准驾车型","type":"multiple"},"specialPeopleList":{"name":"特殊人员","type":"multiple"},"qualification":{"name":"资格证书","type":""},"permanentResidenceAddress":{"name":"户籍地址","type":""},"familyAddress":{"name":"家庭地址","type":""},"sex":{"name":"性别","type":"enum"},"age":{"name":"年龄","type":"range","disabled":true},"nativePlace":{"name":"籍贯","type":""},"education":{"name":"学历","type":"enum"},"major":{"name":"专业","type":""},"maritalStatus":{"name":"婚姻状况","type":"enum"},"identityCard":{"name":"身份证","type":""},"phone":{"name":"手机号码","type":""},"personnelType":{"name":"人员类别","type":"enum"},"authorizedStrengthType":{"name":"编制类别","type":"enum"},"placeOfWork":{"name":"工作岗位","type":"enum"},"jobGrade":{"name":"职级","type":"enum"},"treatmentGrade":{"name":"待遇级别","type":"enum"},"enrollWay":{"name":"招录方式","type":"enum"},"beginWorkTime":{"name":"参加工作时间","type":"date"},"effectiveDateOfTheContract":{"name":"合同生效时间","type":"date"},"workUnit":{"name":"工作单位","type":"enums"},"organizationUnit":{"name":"编制单位","type":"enums"},"jobCategory":{"name":"岗位类别","type":"enum"},"duty":{"name":"职务","type":""},"socialSecurityNumber":{"name":"社保账号","type":""},"beginPoliceWorkTime":{"name":"参加工作时间","type":"date"},"contractExpirationDate":{"name":"合同失效时间","type":"date"},"dimissionDate":{"name":"离职时间","type":"date"},"dimissionReason":{"name":"离职原因","type":""},"personalExperience":{"name":"个人经历","type":"table"},"firstGradeTime":{"name":"任一级辅警起算时间","type":"date"},"workCardBeginTime":{"name":"工作证起始日期","type":"date"},"firstContractBeginTime":{"name":"第一次合同生效时间","type":"date"},"firstContractEngTime":{"name":"第一次合同终止时间","type":"date"},"secondContractBeginTime":{"name":"第二次合同生效时间","type":"date"},"secondContractEngTime":{"name":"第二次合同终止时间","type":"date"},"thirdContractBeginTime":{"name":"第三次合同生效时间","type":"date"},"thirdContractEngTime":{"name":"第三次合同终止时间","type":"date"},"dueContract":{"name":"到期合同","type":"enum"},"icbcCardAccount":{"name":"工商银行账号","type":""},"ruZhiZuLinTime":{"name":"入职租赁日期","type":"date"},"familyMember":{"name":"家庭成员","type":"table"},"award":{"name":"奖罚情况","type":"table"},"assessment":{"name":"年度考核情况","type":"table"}}')},"68da":function(e,t,a){},8061:function(e,t,a){"use strict";var s=a("188c"),n=a.n(s);n.a},"85ec":function(e,t,a){},"8b55":function(e,t,a){e.exports=a.p+"img/map.9e392548.png"},"8f0a":function(e,t,a){"use strict";var s=a("e543"),n=a.n(s);n.a},"919f":function(e,t,a){"use strict";var s=a("2b85"),n=a.n(s);n.a},9560:function(e,t,a){"use strict";var s=a("0a2f"),n=a.n(s);n.a},"992b":function(e,t,a){"use strict";var s=a("a4a5"),n=a.n(s);n.a},a027:function(e,t,a){},a44f:function(e){e.exports=JSON.parse('[{"code":"SystemManager","name":"系统管理","icon":"el-icon-s-tools","children":[{"code":"RoleManager","name":"角色管理","icon":"el-icon-s-tools"},{"code":"RoleUserBindManager","name":"角色绑定管理","icon":"el-icon-s-tools"}]},{"code":"CompanyManager","name":"单位管理","icon":"el-icon-s-home","children":[{"code":"CompanyList","name":"单位列表","icon":"el-icon-s-home"}]},{"code":"UserManager","name":"人员管理","icon":"el-icon-user-solid","children":[{"code":"UserList","name":"人员列表","icon":"el-icon-user-solid"}]},{"code":"BaseDataStatistics","name":"年月报表管理","icon":"el-icon-date","children":[{"code":"YearStatistics","name":"年度报表","icon":"el-icon-date"},{"code":"MonthStatistics","name":"月度报表","icon":"el-icon-date"}]},{"code":"ExpireManager","name":"到期管理","icon":"el-icon-alarm-clock","children":[{"code":"ExpireEmployeeCard","name":"工作证到期提醒","icon":"el-icon-alarm-clock"},{"code":"ExpireContract","name":"合同证到期提醒","icon":"el-icon-alarm-clock"},{"code":"ExpireRetire","name":"退休提醒","icon":"el-icon-alarm-clock"}]},{"code":"WagesManager","name":"工资管理","icon":"el-icon-money","children":[{"code":"WagesDetail","name":"工资明细","icon":"el-icon-money"},{"code":"WagesReimbursement","name":"工资报销封面","icon":"el-icon-money"},{"code":"WagesChange","name":"工资变动","icon":"el-icon-money"}]},{"code":"AssessmentManager","name":"年度考核管理","icon":"el-icon-medal-1","children":[{"code":"AssessmentList","name":"年度考核列表","icon":"el-icon-medal-1"},{"code":"AssessmentResult","name":"年度考核结果登记","icon":"el-icon-medal-1"}]},{"code":"ChartManger","name":"图表管理","icon":"el-icon-pie-chart","children":[{"code":"ChartList","name":"图表列表","icon":"el-icon-pie-chart"}]},{"code":"WorkShiftManger","name":"轮岗管理","icon":"el-icon-c-scale-to-original","children":[{"code":"WorkShiftList","name":"轮岗人员列表","icon":"el-icon-c-scale-to-original"}]}]')},a49b:function(e,t,a){"use strict";var s=a("68da"),n=a.n(s);n.a},a4a5:function(e,t,a){},cad5:function(e,t,a){e.exports=a.p+"img/bigmap.10da8ea9.png"},cf05:function(e,t,a){e.exports=a.p+"img/logo.cc50a6ba.png"},d8ea:function(e,t,a){"use strict";var s=a("f94f"),n=a.n(s);n.a},e543:function(e,t,a){},e8b7:function(e,t,a){"use strict";var s=a("111b"),n=a.n(s);n.a},ec00:function(e,t,a){"use strict";var s=a("32f6"),n=a.n(s);n.a},f94f:function(e,t,a){},f9c2:function(e,t,a){}});
//# sourceMappingURL=index.a83e93db.js.map